{"ast":null,"code":"import { BackSide, BoxGeometry, Mesh, PerspectiveCamera, Scene, ShaderLib, ShaderMaterial, UniformsUtils } from 'three';\nimport { Pass } from './Pass.js';\n\n/**\n * This pass can be used to render a cube texture over the entire screen.\n *\n * ```js\n * const cubeMap = new THREE.CubeTextureLoader().load( urls );\n *\n * const cubeTexturePass = new CubeTexturePass( camera, cubemap );\n * composer.addPass( cubeTexturePass );\n * ```\n *\n * @augments Pass\n * @three_import import { CubeTexturePass } from 'three/addons/postprocessing/CubeTexturePass.js';\n */\nclass CubeTexturePass extends Pass {\n  /**\n   * Constructs a new cube texture pass.\n   *\n   * @param {PerspectiveCamera} camera - The camera.\n   * @param {CubeTexture} tCube - The cube texture to render.\n   * @param {number} [opacity=1] - The opacity.\n   */\n  constructor(camera, tCube, opacity = 1) {\n    super();\n\n    /**\n     * The camera.\n     *\n     * @type {PerspectiveCamera}\n     */\n    this.camera = camera;\n\n    /**\n     * The cube texture to render.\n     *\n     * @type {CubeTexture}\n     */\n    this.tCube = tCube;\n\n    /**\n     * The opacity.\n     *\n     * @type {number}\n     * @default 1\n     */\n    this.opacity = opacity;\n\n    /**\n     * Overwritten to disable the swap.\n     *\n     * @type {boolean}\n     * @default false\n     */\n    this.needsSwap = false;\n\n    // internals\n\n    const cubeShader = ShaderLib['cube'];\n    this._cubeMesh = new Mesh(new BoxGeometry(10, 10, 10), new ShaderMaterial({\n      uniforms: UniformsUtils.clone(cubeShader.uniforms),\n      vertexShader: cubeShader.vertexShader,\n      fragmentShader: cubeShader.fragmentShader,\n      depthTest: false,\n      depthWrite: false,\n      side: BackSide\n    }));\n    Object.defineProperty(this._cubeMesh.material, 'envMap', {\n      get: function () {\n        return this.uniforms.tCube.value;\n      }\n    });\n    this._cubeScene = new Scene();\n    this._cubeCamera = new PerspectiveCamera();\n    this._cubeScene.add(this._cubeMesh);\n  }\n\n  /**\n   * Performs the cube texture pass.\n   *\n   * @param {WebGLRenderer} renderer - The renderer.\n   * @param {WebGLRenderTarget} writeBuffer - The write buffer. This buffer is intended as the rendering\n   * destination for the pass.\n   * @param {WebGLRenderTarget} readBuffer - The read buffer. The pass can access the result from the\n   * previous pass from this buffer.\n   * @param {number} deltaTime - The delta time in seconds.\n   * @param {boolean} maskActive - Whether masking is active or not.\n   */\n  render(renderer, writeBuffer, readBuffer /*, deltaTime, maskActive*/) {\n    const oldAutoClear = renderer.autoClear;\n    renderer.autoClear = false;\n    this._cubeCamera.projectionMatrix.copy(this.camera.projectionMatrix);\n    this._cubeCamera.quaternion.setFromRotationMatrix(this.camera.matrixWorld);\n    this._cubeMesh.material.uniforms.tCube.value = this.tCube;\n    this._cubeMesh.material.uniforms.tFlip.value = this.tCube.isCubeTexture && this.tCube.isRenderTargetTexture === false ? -1 : 1;\n    this._cubeMesh.material.uniforms.opacity.value = this.opacity;\n    this._cubeMesh.material.transparent = this.opacity < 1.0;\n    renderer.setRenderTarget(this.renderToScreen ? null : readBuffer);\n    if (this.clear) renderer.clear();\n    renderer.render(this._cubeScene, this._cubeCamera);\n    renderer.autoClear = oldAutoClear;\n  }\n\n  /**\n   * Frees the GPU-related resources allocated by this instance. Call this\n   * method whenever the pass is no longer used in your app.\n   */\n  dispose() {\n    this._cubeMesh.geometry.dispose();\n    this._cubeMesh.material.dispose();\n  }\n}\nexport { CubeTexturePass };","map":{"version":3,"names":["BackSide","BoxGeometry","Mesh","PerspectiveCamera","Scene","ShaderLib","ShaderMaterial","UniformsUtils","Pass","CubeTexturePass","constructor","camera","tCube","opacity","needsSwap","cubeShader","_cubeMesh","uniforms","clone","vertexShader","fragmentShader","depthTest","depthWrite","side","Object","defineProperty","material","get","value","_cubeScene","_cubeCamera","add","render","renderer","writeBuffer","readBuffer","oldAutoClear","autoClear","projectionMatrix","copy","quaternion","setFromRotationMatrix","matrixWorld","tFlip","isCubeTexture","isRenderTargetTexture","transparent","setRenderTarget","renderToScreen","clear","dispose","geometry"],"sources":["/home/powqy/Desktop/Design/solar-system-orbits/node_modules/three/examples/jsm/postprocessing/CubeTexturePass.js"],"sourcesContent":["import {\n\tBackSide,\n\tBoxGeometry,\n\tMesh,\n\tPerspectiveCamera,\n\tScene,\n\tShaderLib,\n\tShaderMaterial,\n\tUniformsUtils\n} from 'three';\nimport { Pass } from './Pass.js';\n\n/**\n * This pass can be used to render a cube texture over the entire screen.\n *\n * ```js\n * const cubeMap = new THREE.CubeTextureLoader().load( urls );\n *\n * const cubeTexturePass = new CubeTexturePass( camera, cubemap );\n * composer.addPass( cubeTexturePass );\n * ```\n *\n * @augments Pass\n * @three_import import { CubeTexturePass } from 'three/addons/postprocessing/CubeTexturePass.js';\n */\nclass CubeTexturePass extends Pass {\n\n\t/**\n\t * Constructs a new cube texture pass.\n\t *\n\t * @param {PerspectiveCamera} camera - The camera.\n\t * @param {CubeTexture} tCube - The cube texture to render.\n\t * @param {number} [opacity=1] - The opacity.\n\t */\n\tconstructor( camera, tCube, opacity = 1 ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t * The camera.\n\t\t *\n\t\t * @type {PerspectiveCamera}\n\t\t */\n\t\tthis.camera = camera;\n\n\t\t/**\n\t\t * The cube texture to render.\n\t\t *\n\t\t * @type {CubeTexture}\n\t\t */\n\t\tthis.tCube = tCube;\n\n\t\t/**\n\t\t * The opacity.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 1\n\t\t */\n\t\tthis.opacity = opacity;\n\n\t\t/**\n\t\t * Overwritten to disable the swap.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.needsSwap = false;\n\n\t\t// internals\n\n\t\tconst cubeShader = ShaderLib[ 'cube' ];\n\n\t\tthis._cubeMesh = new Mesh(\n\t\t\tnew BoxGeometry( 10, 10, 10 ),\n\t\t\tnew ShaderMaterial( {\n\t\t\t\tuniforms: UniformsUtils.clone( cubeShader.uniforms ),\n\t\t\t\tvertexShader: cubeShader.vertexShader,\n\t\t\t\tfragmentShader: cubeShader.fragmentShader,\n\t\t\t\tdepthTest: false,\n\t\t\t\tdepthWrite: false,\n\t\t\t\tside: BackSide\n\t\t\t} )\n\t\t);\n\n\t\tObject.defineProperty( this._cubeMesh.material, 'envMap', {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.uniforms.tCube.value;\n\n\t\t\t}\n\n\t\t} );\n\n\t\tthis._cubeScene = new Scene();\n\t\tthis._cubeCamera = new PerspectiveCamera();\n\t\tthis._cubeScene.add( this._cubeMesh );\n\n\t}\n\n\t/**\n\t * Performs the cube texture pass.\n\t *\n\t * @param {WebGLRenderer} renderer - The renderer.\n\t * @param {WebGLRenderTarget} writeBuffer - The write buffer. This buffer is intended as the rendering\n\t * destination for the pass.\n\t * @param {WebGLRenderTarget} readBuffer - The read buffer. The pass can access the result from the\n\t * previous pass from this buffer.\n\t * @param {number} deltaTime - The delta time in seconds.\n\t * @param {boolean} maskActive - Whether masking is active or not.\n\t */\n\trender( renderer, writeBuffer, readBuffer/*, deltaTime, maskActive*/ ) {\n\n\t\tconst oldAutoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tthis._cubeCamera.projectionMatrix.copy( this.camera.projectionMatrix );\n\t\tthis._cubeCamera.quaternion.setFromRotationMatrix( this.camera.matrixWorld );\n\n\t\tthis._cubeMesh.material.uniforms.tCube.value = this.tCube;\n\t\tthis._cubeMesh.material.uniforms.tFlip.value = ( this.tCube.isCubeTexture && this.tCube.isRenderTargetTexture === false ) ? - 1 : 1;\n\t\tthis._cubeMesh.material.uniforms.opacity.value = this.opacity;\n\t\tthis._cubeMesh.material.transparent = ( this.opacity < 1.0 );\n\n\t\trenderer.setRenderTarget( this.renderToScreen ? null : readBuffer );\n\t\tif ( this.clear ) renderer.clear();\n\t\trenderer.render( this._cubeScene, this._cubeCamera );\n\n\t\trenderer.autoClear = oldAutoClear;\n\n\t}\n\n\t/**\n\t * Frees the GPU-related resources allocated by this instance. Call this\n\t * method whenever the pass is no longer used in your app.\n\t */\n\tdispose() {\n\n\t\tthis._cubeMesh.geometry.dispose();\n\t\tthis._cubeMesh.material.dispose();\n\n\t}\n\n}\n\nexport { CubeTexturePass };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}