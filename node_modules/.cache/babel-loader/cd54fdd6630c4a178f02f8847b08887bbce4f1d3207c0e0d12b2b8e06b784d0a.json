{"ast":null,"code":"import { AnimationMixer, Box3, Mesh, MeshLambertMaterial, Object3D, TextureLoader, UVMapping, SRGBColorSpace } from 'three';\nimport { MD2Loader } from '../loaders/MD2Loader.js';\n\n/**\n * This class represents a management component for animated MD2\n * character assets.\n *\n * @three_import import { MD2Character } from 'three/addons/misc/MD2Character.js';\n */\nclass MD2Character {\n  /**\n   * Constructs a new MD2 character.\n   */\n  constructor() {\n    /**\n     * The mesh scale.\n     *\n     * @type {number}\n     * @default 1\n     */\n    this.scale = 1;\n\n    /**\n     * The FPS\n     *\n     * @type {number}\n     * @default 6\n     */\n    this.animationFPS = 6;\n\n    /**\n     * The root 3D object\n     *\n     * @type {Object3D}\n     */\n    this.root = new Object3D();\n\n    /**\n     * The body mesh.\n     *\n     * @type {?Mesh}\n     * @default null\n     */\n    this.meshBody = null;\n\n    /**\n     * The weapon mesh.\n     *\n     * @type {?Mesh}\n     * @default null\n     */\n    this.meshWeapon = null;\n\n    /**\n     * The body skins.\n     *\n     * @type {Array<Texture>}\n     */\n    this.skinsBody = [];\n\n    /**\n     * The weapon skins.\n     *\n     * @type {Array<Texture>}\n     */\n    this.skinsWeapon = [];\n\n    /**\n     * The weapon meshes.\n     *\n     * @type {Array<Mesh>}\n     */\n    this.weapons = [];\n\n    /**\n     * The name of the active animation clip.\n     *\n     * @type {?string}\n     * @default null\n     */\n    this.activeAnimationClipName = null;\n\n    /**\n     * The animation mixer.\n     *\n     * @type {?AnimationMixer}\n     * @default null\n     */\n    this.mixer = null;\n\n    /**\n     * The `onLoad` callback function.\n     *\n     * @type {Function}\n     */\n    this.onLoadComplete = function () {};\n\n    // internal\n\n    this.loadCounter = 0;\n  }\n\n  /**\n   * Loads the character model for the given config.\n   *\n   * @param {Object} config - The config which defines the model and textures paths.\n   */\n  loadParts(config) {\n    const scope = this;\n    function createPart(geometry, skinMap) {\n      const materialWireframe = new MeshLambertMaterial({\n        color: 0xffaa00,\n        wireframe: true\n      });\n      const materialTexture = new MeshLambertMaterial({\n        color: 0xffffff,\n        wireframe: false,\n        map: skinMap\n      });\n\n      //\n\n      const mesh = new Mesh(geometry, materialTexture);\n      mesh.rotation.y = -Math.PI / 2;\n      mesh.castShadow = true;\n      mesh.receiveShadow = true;\n\n      //\n\n      mesh.materialTexture = materialTexture;\n      mesh.materialWireframe = materialWireframe;\n      return mesh;\n    }\n    function loadTextures(baseUrl, textureUrls) {\n      const textureLoader = new TextureLoader();\n      const textures = [];\n      for (let i = 0; i < textureUrls.length; i++) {\n        textures[i] = textureLoader.load(baseUrl + textureUrls[i], checkLoadingComplete);\n        textures[i].mapping = UVMapping;\n        textures[i].name = textureUrls[i];\n        textures[i].colorSpace = SRGBColorSpace;\n      }\n      return textures;\n    }\n    function checkLoadingComplete() {\n      scope.loadCounter -= 1;\n      if (scope.loadCounter === 0) scope.onLoadComplete();\n    }\n    this.loadCounter = config.weapons.length * 2 + config.skins.length + 1;\n    const weaponsTextures = [];\n    for (let i = 0; i < config.weapons.length; i++) weaponsTextures[i] = config.weapons[i][1];\n    // SKINS\n\n    this.skinsBody = loadTextures(config.baseUrl + 'skins/', config.skins);\n    this.skinsWeapon = loadTextures(config.baseUrl + 'skins/', weaponsTextures);\n\n    // BODY\n\n    const loader = new MD2Loader();\n    loader.load(config.baseUrl + config.body, function (geo) {\n      const boundingBox = new Box3();\n      boundingBox.setFromBufferAttribute(geo.attributes.position);\n      scope.root.position.y = -scope.scale * boundingBox.min.y;\n      const mesh = createPart(geo, scope.skinsBody[0]);\n      mesh.scale.set(scope.scale, scope.scale, scope.scale);\n      scope.root.add(mesh);\n      scope.meshBody = mesh;\n      scope.meshBody.clipOffset = 0;\n      scope.activeAnimationClipName = mesh.geometry.animations[0].name;\n      scope.mixer = new AnimationMixer(mesh);\n      checkLoadingComplete();\n    });\n\n    // WEAPONS\n\n    const generateCallback = function (index, name) {\n      return function (geo) {\n        const mesh = createPart(geo, scope.skinsWeapon[index]);\n        mesh.scale.set(scope.scale, scope.scale, scope.scale);\n        mesh.visible = false;\n        mesh.name = name;\n        scope.root.add(mesh);\n        scope.weapons[index] = mesh;\n        scope.meshWeapon = mesh;\n        checkLoadingComplete();\n      };\n    };\n    for (let i = 0; i < config.weapons.length; i++) {\n      loader.load(config.baseUrl + config.weapons[i][0], generateCallback(i, config.weapons[i][0]));\n    }\n  }\n\n  /**\n   * Sets the animation playback rate.\n   *\n   * @param {number} rate - The playback rate to set.\n   */\n  setPlaybackRate(rate) {\n    if (rate !== 0) {\n      this.mixer.timeScale = 1 / rate;\n    } else {\n      this.mixer.timeScale = 0;\n    }\n  }\n\n  /**\n   * Sets the wireframe material flag.\n   *\n   * @param {boolean} wireframeEnabled - Whether to enable wireframe rendering or not.\n   */\n  setWireframe(wireframeEnabled) {\n    if (wireframeEnabled) {\n      if (this.meshBody) this.meshBody.material = this.meshBody.materialWireframe;\n      if (this.meshWeapon) this.meshWeapon.material = this.meshWeapon.materialWireframe;\n    } else {\n      if (this.meshBody) this.meshBody.material = this.meshBody.materialTexture;\n      if (this.meshWeapon) this.meshWeapon.material = this.meshWeapon.materialTexture;\n    }\n  }\n\n  /**\n   * Sets the skin defined by the given skin index. This will result in a different texture\n   * for the body mesh.\n   *\n   * @param {number} index - The skin index.\n   */\n  setSkin(index) {\n    if (this.meshBody && this.meshBody.material.wireframe === false) {\n      this.meshBody.material.map = this.skinsBody[index];\n    }\n  }\n\n  /**\n   * Sets the weapon defined by the given weapon index. This will result in a different weapon\n   * hold by the character.\n   *\n   * @param {number} index - The weapon index.\n   */\n  setWeapon(index) {\n    for (let i = 0; i < this.weapons.length; i++) this.weapons[i].visible = false;\n    const activeWeapon = this.weapons[index];\n    if (activeWeapon) {\n      activeWeapon.visible = true;\n      this.meshWeapon = activeWeapon;\n      this.syncWeaponAnimation();\n    }\n  }\n\n  /**\n   * Sets the defined animation clip as the active animation.\n   *\n   * @param {string} clipName - The name of the animation clip.\n   */\n  setAnimation(clipName) {\n    if (this.meshBody) {\n      if (this.meshBody.activeAction) {\n        this.meshBody.activeAction.stop();\n        this.meshBody.activeAction = null;\n      }\n      const action = this.mixer.clipAction(clipName, this.meshBody);\n      if (action) {\n        this.meshBody.activeAction = action.play();\n      }\n    }\n    this.activeClipName = clipName;\n    this.syncWeaponAnimation();\n  }\n\n  /**\n   * Synchronizes the weapon with the body animation.\n   */\n  syncWeaponAnimation() {\n    const clipName = this.activeClipName;\n    if (this.meshWeapon) {\n      if (this.meshWeapon.activeAction) {\n        this.meshWeapon.activeAction.stop();\n        this.meshWeapon.activeAction = null;\n      }\n      const action = this.mixer.clipAction(clipName, this.meshWeapon);\n      if (action) {\n        this.meshWeapon.activeAction = action.syncWith(this.meshBody.activeAction).play();\n      }\n    }\n  }\n\n  /**\n   * Updates the animations of the mesh. Must be called inside the animation loop.\n   *\n   * @param {number} delta - The delta time in seconds.\n   */\n  update(delta) {\n    if (this.mixer) this.mixer.update(delta);\n  }\n}\nexport { MD2Character };","map":{"version":3,"names":["AnimationMixer","Box3","Mesh","MeshLambertMaterial","Object3D","TextureLoader","UVMapping","SRGBColorSpace","MD2Loader","MD2Character","constructor","scale","animationFPS","root","meshBody","meshWeapon","skinsBody","skinsWeapon","weapons","activeAnimationClipName","mixer","onLoadComplete","loadCounter","loadParts","config","scope","createPart","geometry","skinMap","materialWireframe","color","wireframe","materialTexture","map","mesh","rotation","y","Math","PI","castShadow","receiveShadow","loadTextures","baseUrl","textureUrls","textureLoader","textures","i","length","load","checkLoadingComplete","mapping","name","colorSpace","skins","weaponsTextures","loader","body","geo","boundingBox","setFromBufferAttribute","attributes","position","min","set","add","clipOffset","animations","generateCallback","index","visible","setPlaybackRate","rate","timeScale","setWireframe","wireframeEnabled","material","setSkin","setWeapon","activeWeapon","syncWeaponAnimation","setAnimation","clipName","activeAction","stop","action","clipAction","play","activeClipName","syncWith","update","delta"],"sources":["/home/powqy/Desktop/Design/solar-system-orbits/node_modules/three/examples/jsm/misc/MD2Character.js"],"sourcesContent":["import {\n\tAnimationMixer,\n\tBox3,\n\tMesh,\n\tMeshLambertMaterial,\n\tObject3D,\n\tTextureLoader,\n\tUVMapping,\n\tSRGBColorSpace\n} from 'three';\nimport { MD2Loader } from '../loaders/MD2Loader.js';\n\n/**\n * This class represents a management component for animated MD2\n * character assets.\n *\n * @three_import import { MD2Character } from 'three/addons/misc/MD2Character.js';\n */\nclass MD2Character {\n\n\t/**\n\t * Constructs a new MD2 character.\n\t */\n\tconstructor() {\n\n\t\t/**\n\t\t * The mesh scale.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 1\n\t\t */\n\t\tthis.scale = 1;\n\n\t\t/**\n\t\t * The FPS\n\t\t *\n\t\t * @type {number}\n\t\t * @default 6\n\t\t */\n\t\tthis.animationFPS = 6;\n\n\t\t/**\n\t\t * The root 3D object\n\t\t *\n\t\t * @type {Object3D}\n\t\t */\n\t\tthis.root = new Object3D();\n\n\t\t/**\n\t\t * The body mesh.\n\t\t *\n\t\t * @type {?Mesh}\n\t\t * @default null\n\t\t */\n\t\tthis.meshBody = null;\n\n\t\t/**\n\t\t * The weapon mesh.\n\t\t *\n\t\t * @type {?Mesh}\n\t\t * @default null\n\t\t */\n\t\tthis.meshWeapon = null;\n\n\t\t/**\n\t\t * The body skins.\n\t\t *\n\t\t * @type {Array<Texture>}\n\t\t */\n\t\tthis.skinsBody = [];\n\n\t\t/**\n\t\t * The weapon skins.\n\t\t *\n\t\t * @type {Array<Texture>}\n\t\t */\n\t\tthis.skinsWeapon = [];\n\n\t\t/**\n\t\t * The weapon meshes.\n\t\t *\n\t\t * @type {Array<Mesh>}\n\t\t */\n\t\tthis.weapons = [];\n\n\t\t/**\n\t\t * The name of the active animation clip.\n\t\t *\n\t\t * @type {?string}\n\t\t * @default null\n\t\t */\n\t\tthis.activeAnimationClipName = null;\n\n\t\t/**\n\t\t * The animation mixer.\n\t\t *\n\t\t * @type {?AnimationMixer}\n\t\t * @default null\n\t\t */\n\t\tthis.mixer = null;\n\n\t\t/**\n\t\t * The `onLoad` callback function.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tthis.onLoadComplete = function () {};\n\n\t\t// internal\n\n\t\tthis.loadCounter = 0;\n\n\t}\n\n\t/**\n\t * Loads the character model for the given config.\n\t *\n\t * @param {Object} config - The config which defines the model and textures paths.\n\t */\n\tloadParts( config ) {\n\n\t\tconst scope = this;\n\n\t\tfunction createPart( geometry, skinMap ) {\n\n\t\t\tconst materialWireframe = new MeshLambertMaterial( { color: 0xffaa00, wireframe: true } );\n\t\t\tconst materialTexture = new MeshLambertMaterial( { color: 0xffffff, wireframe: false, map: skinMap } );\n\n\t\t\t//\n\n\t\t\tconst mesh = new Mesh( geometry, materialTexture );\n\t\t\tmesh.rotation.y = - Math.PI / 2;\n\n\t\t\tmesh.castShadow = true;\n\t\t\tmesh.receiveShadow = true;\n\n\t\t\t//\n\n\t\t\tmesh.materialTexture = materialTexture;\n\t\t\tmesh.materialWireframe = materialWireframe;\n\n\t\t\treturn mesh;\n\n\t\t}\n\n\t\tfunction loadTextures( baseUrl, textureUrls ) {\n\n\t\t\tconst textureLoader = new TextureLoader();\n\t\t\tconst textures = [];\n\n\t\t\tfor ( let i = 0; i < textureUrls.length; i ++ ) {\n\n\t\t\t\ttextures[ i ] = textureLoader.load( baseUrl + textureUrls[ i ], checkLoadingComplete );\n\t\t\t\ttextures[ i ].mapping = UVMapping;\n\t\t\t\ttextures[ i ].name = textureUrls[ i ];\n\t\t\t\ttextures[ i ].colorSpace = SRGBColorSpace;\n\n\t\t\t}\n\n\t\t\treturn textures;\n\n\t\t}\n\n\t\tfunction checkLoadingComplete() {\n\n\t\t\tscope.loadCounter -= 1;\n\n\t\t\tif ( scope.loadCounter === 0 ) scope.onLoadComplete();\n\n\t\t}\n\n\t\tthis.loadCounter = config.weapons.length * 2 + config.skins.length + 1;\n\n\t\tconst weaponsTextures = [];\n\t\tfor ( let i = 0; i < config.weapons.length; i ++ ) weaponsTextures[ i ] = config.weapons[ i ][ 1 ];\n\t\t// SKINS\n\n\t\tthis.skinsBody = loadTextures( config.baseUrl + 'skins/', config.skins );\n\t\tthis.skinsWeapon = loadTextures( config.baseUrl + 'skins/', weaponsTextures );\n\n\t\t// BODY\n\n\t\tconst loader = new MD2Loader();\n\n\t\tloader.load( config.baseUrl + config.body, function ( geo ) {\n\n\t\t\tconst boundingBox = new Box3();\n\t\t\tboundingBox.setFromBufferAttribute( geo.attributes.position );\n\n\t\t\tscope.root.position.y = - scope.scale * boundingBox.min.y;\n\n\t\t\tconst mesh = createPart( geo, scope.skinsBody[ 0 ] );\n\t\t\tmesh.scale.set( scope.scale, scope.scale, scope.scale );\n\n\t\t\tscope.root.add( mesh );\n\n\t\t\tscope.meshBody = mesh;\n\n\t\t\tscope.meshBody.clipOffset = 0;\n\t\t\tscope.activeAnimationClipName = mesh.geometry.animations[ 0 ].name;\n\n\t\t\tscope.mixer = new AnimationMixer( mesh );\n\n\t\t\tcheckLoadingComplete();\n\n\t\t} );\n\n\t\t// WEAPONS\n\n\t\tconst generateCallback = function ( index, name ) {\n\n\t\t\treturn function ( geo ) {\n\n\t\t\t\tconst mesh = createPart( geo, scope.skinsWeapon[ index ] );\n\t\t\t\tmesh.scale.set( scope.scale, scope.scale, scope.scale );\n\t\t\t\tmesh.visible = false;\n\n\t\t\t\tmesh.name = name;\n\n\t\t\t\tscope.root.add( mesh );\n\n\t\t\t\tscope.weapons[ index ] = mesh;\n\t\t\t\tscope.meshWeapon = mesh;\n\n\t\t\t\tcheckLoadingComplete();\n\n\t\t\t};\n\n\t\t};\n\n\t\tfor ( let i = 0; i < config.weapons.length; i ++ ) {\n\n\t\t\tloader.load( config.baseUrl + config.weapons[ i ][ 0 ], generateCallback( i, config.weapons[ i ][ 0 ] ) );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Sets the animation playback rate.\n\t *\n\t * @param {number} rate - The playback rate to set.\n\t */\n\tsetPlaybackRate( rate ) {\n\n\t\tif ( rate !== 0 ) {\n\n\t\t\tthis.mixer.timeScale = 1 / rate;\n\n\t\t} else {\n\n\t\t\tthis.mixer.timeScale = 0;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Sets the wireframe material flag.\n\t *\n\t * @param {boolean} wireframeEnabled - Whether to enable wireframe rendering or not.\n\t */\n\tsetWireframe( wireframeEnabled ) {\n\n\t\tif ( wireframeEnabled ) {\n\n\t\t\tif ( this.meshBody ) this.meshBody.material = this.meshBody.materialWireframe;\n\t\t\tif ( this.meshWeapon ) this.meshWeapon.material = this.meshWeapon.materialWireframe;\n\n\t\t} else {\n\n\t\t\tif ( this.meshBody ) this.meshBody.material = this.meshBody.materialTexture;\n\t\t\tif ( this.meshWeapon ) this.meshWeapon.material = this.meshWeapon.materialTexture;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Sets the skin defined by the given skin index. This will result in a different texture\n\t * for the body mesh.\n\t *\n\t * @param {number} index - The skin index.\n\t */\n\tsetSkin( index ) {\n\n\t\tif ( this.meshBody && this.meshBody.material.wireframe === false ) {\n\n\t\t\tthis.meshBody.material.map = this.skinsBody[ index ];\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Sets the weapon defined by the given weapon index. This will result in a different weapon\n\t * hold by the character.\n\t *\n\t * @param {number} index - The weapon index.\n\t */\n\tsetWeapon( index ) {\n\n\t\tfor ( let i = 0; i < this.weapons.length; i ++ ) this.weapons[ i ].visible = false;\n\n\t\tconst activeWeapon = this.weapons[ index ];\n\n\t\tif ( activeWeapon ) {\n\n\t\t\tactiveWeapon.visible = true;\n\t\t\tthis.meshWeapon = activeWeapon;\n\n\t\t\tthis.syncWeaponAnimation();\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Sets the defined animation clip as the active animation.\n\t *\n\t * @param {string} clipName - The name of the animation clip.\n\t */\n\tsetAnimation( clipName ) {\n\n\t\tif ( this.meshBody ) {\n\n\t\t\tif ( this.meshBody.activeAction ) {\n\n\t\t\t\tthis.meshBody.activeAction.stop();\n\t\t\t\tthis.meshBody.activeAction = null;\n\n\t\t\t}\n\n\t\t\tconst action = this.mixer.clipAction( clipName, this.meshBody );\n\n\t\t\tif ( action ) {\n\n\t\t\t\tthis.meshBody.activeAction = action.play();\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.activeClipName = clipName;\n\n\t\tthis.syncWeaponAnimation();\n\n\t}\n\n\t/**\n\t * Synchronizes the weapon with the body animation.\n\t */\n\tsyncWeaponAnimation() {\n\n\t\tconst clipName = this.activeClipName;\n\n\t\tif ( this.meshWeapon ) {\n\n\t\t\tif ( this.meshWeapon.activeAction ) {\n\n\t\t\t\tthis.meshWeapon.activeAction.stop();\n\t\t\t\tthis.meshWeapon.activeAction = null;\n\n\t\t\t}\n\n\t\t\tconst action = this.mixer.clipAction( clipName, this.meshWeapon );\n\n\t\t\tif ( action ) {\n\n\t\t\t\tthis.meshWeapon.activeAction = action.syncWith( this.meshBody.activeAction ).play();\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Updates the animations of the mesh. Must be called inside the animation loop.\n\t *\n\t * @param {number} delta - The delta time in seconds.\n\t */\n\tupdate( delta ) {\n\n\t\tif ( this.mixer ) this.mixer.update( delta );\n\n\t}\n\n}\n\nexport { MD2Character };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}